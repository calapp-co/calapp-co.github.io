console['log']('remote\x20content.js\x20loaded',new Date());var AVAILABLE_START_HOUR='';var AVAILABLE_END_HOUR='';var BUFFER_BEFORE_AND_AFTER_MINS='';var MEETING_LENGTH_MINS='';var HEADER_TEXT='';var POST_TEXT='';var INCLUDE_WEEKENDS=![];var EXTENSION_REMOTE_URL='';var UUID='';var REFERRAL_LINK='PS:\x20You\x20may\x20also\x20find\x20Calapp\x20a\x20Chrome\x20extension\x20that\x20generated\x20my\x20above\x20availability\x20from\x20Google\x20Calendar\x20useful\x20so\x20here\x27s\x20a\x20free\x20invite:\x20https://calapp.co?';var MONTHS=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];var DAYS=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];var DAYS_IN_MONTH_28=['Feb'];var DAYS_IN_MONTH_30=['Apr','Jun','Sep','Nov'];var MONTHS_REGEX=new RegExp('('+MONTHS['join']('|')+')');var DAYS_REGEX=new RegExp('('+DAYS['join']('|')+')');var skipDay=function(_0x5867d9){return!INCLUDE_WEEKENDS&&(_0x5867d9===DAYS[0x5]||_0x5867d9===DAYS[0x6]);};var isBeforeTodayIsToday=function(_0x55ec00,_0x3036f2){let _0x30dfa6=new Date();let _0x99e85d=_0x30dfa6['getDate']();let _0x4ef0e0=MONTHS[_0x30dfa6['getMonth']()];let _0x15b86b=_0x55ec00<_0x99e85d&&_0x3036f2===_0x4ef0e0;let _0x41d6ec=_0x55ec00===_0x99e85d&&_0x3036f2===_0x4ef0e0;return{'isBeforeToday':_0x15b86b,'isToday':_0x41d6ec};};var generateFreeTimesInDayString=function(_0x115254,_0x277473,_0x172171,_0x324c44){let _0x401843='';let {isBeforeToday,isToday}=isBeforeTodayIsToday(_0x115254,_0x277473);let _0x3f6f76=new Date();let _0x5566a7=_0x3f6f76['getHours']()+_0x3f6f76['getMinutes']()/0x3c;let _0x6279c8=isToday?_0x5566a7:-0x1;if(isBeforeToday||isToday&&_0x5566a7>=AVAILABLE_END_HOUR){return _0x401843;}let _0xaa196c=MEETING_LENGTH_MINS/0x3c;let _0x32f4ab=BUFFER_BEFORE_AND_AFTER_MINS/0x3c;let _0x39f4c1=_0x172171['sort']((_0x149000,_0x290e9f)=>_0x149000-_0x290e9f);let _0x13a905=_0x324c44['sort']((_0x186311,_0x48304a)=>_0x186311-_0x48304a);for(let _0x10e64c=0x0;_0x10e64c<_0x39f4c1['length'];_0x10e64c++){if(_0x39f4c1[_0x10e64c]<AVAILABLE_START_HOUR&&_0x13a905[_0x10e64c]<AVAILABLE_START_HOUR){_0x39f4c1['splice'](_0x10e64c,0x1);_0x13a905['splice'](_0x10e64c,0x1);}}let _0x58551f=_0x39f4c1[0x0]?_0x39f4c1[0x0]:0x63;let _0x45b1aa=Math['min'](AVAILABLE_END_HOUR,_0x58551f-_0x32f4ab);let _0xf0dbdc=Math['max'](AVAILABLE_START_HOUR,_0x6279c8+_0x32f4ab);if(_0x58551f>_0xf0dbdc&&_0x45b1aa-_0xaa196c>=_0xf0dbdc&&_0x45b1aa>_0x6279c8){_0x401843=_0x401843+'\x20'+hoursTohhss(_0xf0dbdc)+'\x20-\x20'+hoursTohhss(_0x45b1aa);}for(let _0x171211=0x1;_0x171211<_0x39f4c1['length'];_0x171211++){if(_0x39f4c1[_0x171211]>=AVAILABLE_START_HOUR&&_0x13a905[_0x171211-0x1]>AVAILABLE_START_HOUR){let _0x1638af=_0x39f4c1[_0x171211]-_0x32f4ab;if(_0x1638af>_0x6279c8){let _0x388b15=Math['max'](_0x13a905[_0x171211-0x1],_0x6279c8)+_0x32f4ab;let _0x253a76=_0x1638af-_0x388b15;let _0x3f4e7c=AVAILABLE_END_HOUR-_0x388b15;if(_0x1638af>_0x388b15){if(_0x1638af<=AVAILABLE_END_HOUR&&_0x253a76>=_0xaa196c){let _0x444617=hoursTohhss(_0x1638af);let _0x385399=hoursTohhss(_0x388b15);_0x401843=_0x401843+(_0x401843?',\x20':'\x20')+_0x385399+'\x20-\x20'+_0x444617;}else if(_0x1638af>AVAILABLE_END_HOUR&&_0x3f4e7c>=_0xaa196c){let _0x288cc6=hoursTohhss(AVAILABLE_END_HOUR);let _0x385399=hoursTohhss(_0x388b15);_0x401843=_0x401843+(_0x401843?',\x20':'\x20')+_0x385399+'\x20-\x20'+_0x288cc6;}}}}}let _0xd4a919=Math['max'](_0x6279c8,Math['max']['apply'](null,_0x324c44));if(_0xd4a919!==-Infinity&&_0xd4a919!==-0x1&&_0xd4a919!==0x18&&_0xd4a919+_0xaa196c+_0x32f4ab<=AVAILABLE_END_HOUR){_0x401843=_0x401843+(_0x401843?'\x20or':'')+'\x20after\x20'+hoursTohhss(_0xd4a919+_0x32f4ab);}return _0x401843;};function getDayOfWeekDigits(_0x4cf5c5,_0x473684){return DAYS[(DAYS['indexOf'](_0x4cf5c5)+_0x473684)%0x7];}function generateFreeAllDayString(_0x4aa1d8,_0x2456df,_0x296973,_0x19a9e4){let _0x15956c=getDayOfWeekDigits(_0x2456df,_0x19a9e4);let _0x56ba9b='';if(!skipDay(_0x15956c)){_0x56ba9b=appendOutputDayString(hoursTohhss(AVAILABLE_START_HOUR)+'\x20-\x20'+hoursTohhss(AVAILABLE_END_HOUR),'',_0x4aa1d8+'\x20'+_0x296973+',\x20'+_0x15956c+'\x20',_0x15956c);}return _0x56ba9b;}function getDateDayDigits(_0x3fd5c2){return _0x3fd5c2?parseInt(_0x3fd5c2['replace'](/\D+/g,'')):-0x1;}function getDateMonthString(_0x36a24c){let _0x4f3ee9=_0x36a24c['match'](MONTHS_REGEX);return _0x4f3ee9[0x0];}function getDateDayString(_0x1c0c81){return _0x1c0c81['match'](DAYS_REGEX)[0x0];}function hoursTohhss(_0x1b027f){var _0x140d89=_0x1b027f<0x0?'-':'';var _0x2d5677=Math['floor'](Math['abs'](_0x1b027f));var _0x452010=Math['round'](Math['abs'](_0x1b027f)*0x3c%0x3c);return _0x140d89+(_0x2d5677<0xa?'0':'')+_0x2d5677+':'+(_0x452010<0xa?'0':'')+_0x452010;}function parseTimeString(_0x444b64){let _0x2a9766=_0x444b64['match'](/^([\d]+):?([\d]*)?([^\d]+)?$/);let _0x293c50=parseInt(_0x2a9766[0x1]);let _0x1d72e7=_0x2a9766[0x2]?parseInt(_0x2a9766[0x2]):0x0;let _0x237e28=_0x2a9766[0x3]?_0x2a9766[0x3]:null;return{'hours':_0x293c50,'optionalMins':_0x1d72e7,'optionalAmPm':_0x237e28};}function generateTimeString(_0x32a9a1,_0x3c21be,_0x21b142){if(_0x32a9a1!==0xc&&_0x21b142==='pm'||_0x32a9a1===0xc&&_0x21b142==='am'){_0x32a9a1=_0x32a9a1+0xc;}return _0x32a9a1+_0x3c21be/0x3c;}function convertStringWithAmPmTo24Time(_0x595aed,_0x5140a5){let {hours:startHours,optionalMins:startOptionalMins,optionalAmPm:startOptionalAmPm}=parseTimeString(_0x595aed);let {hours:endHours,optionalMins:endOptionalMins,optionalAmPm:endOptionalAmPm}=parseTimeString(_0x5140a5);if(endOptionalAmPm&&!startOptionalAmPm){startOptionalAmPm=endOptionalAmPm;}let _0x17a9ff=generateTimeString(startHours,startOptionalMins,startOptionalAmPm);return{'startTime':_0x17a9ff,'endTime':generateTimeString(endHours,endOptionalMins,endOptionalAmPm)};}function blink(_0x24c7f0,_0x564375){function _0x557b01(){_0x24c7f0['style']['visibility']='hidden';setTimeout(function(){_0x24c7f0['style']['visibility']='visible';},_0x564375);_0x51ff6d=setTimeout(function(){_0x557b01();},_0x564375*0x2);_0x50d966=![];}var _0x51ff6d,_0x50d966=!![];return{'start':function(){if(_0x50d966)_0x557b01();},'stop':function(){clearTimeout(_0x51ff6d);_0x50d966=!![];}};}function copyTextAreaToClipboardOnClick(){copyTextAreaToClipboard();}function copyTextAreaToClipboard(){let _0x49c63a=document['getElementById']('copyToClipboard');_0x49c63a['select']();if(document['execCommand']('copy')){if(blinking){blinking['stop']();}let _0x4e26ad=document['getElementById']('copyStatus');_0x4e26ad['textContent']='Copied\x20to\x20your\x20clipboard';setTimeout(function(){_0x4e26ad['textContent']='';},0x7d0);console['log']('Calapp.co\x20copied\x20text\x20to\x20clipboard');}else{blinking['start']();}}function closeOutputDiv(){let _0x490701=document['getElementById']('divOverlay');if(_0x490701){document['body']['removeChild'](_0x490701);}}let blinking;function displayOutputDiv(_0xa38051){closeOutputDiv();let _0x267c21='CalApp.co\x20generated\x20your\x20availability\x20from\x20visible\x20days\x20for\x20meetings\x20of\x20at\x20least\x20'+MEETING_LENGTH_MINS+'\x20minutes\x20between\x20'+hoursTohhss(AVAILABLE_START_HOUR)+'\x20and\x20'+hoursTohhss(AVAILABLE_END_HOUR)+'\x20with\x20at\x20least\x20'+BUFFER_BEFORE_AND_AFTER_MINS+'\x20minutes\x20before\x20and\x20after\x20existing\x20meetings\x20(based\x20on\x20currently\x20visible\x20days\x20and\x20calendars).';let _0x1c1413=document['createElement']('div');_0x1c1413['innerHTML']='<h2>Edit\x20your\x20availability/message\x20as\x20required\x20then\x20copy\x20to\x20your\x20clipboard</h2><p\x20style=\x22font-weight:\x20bold\x22>'+_0x267c21+'</p>';_0x1c1413['style']['width']='670px';_0x1c1413['style']['height']='auto';_0x1c1413['style']['position']='absolute';_0x1c1413['style']['top']='20px';_0x1c1413['style']['backgroundColor']='white';_0x1c1413['style']['zIndex']='9999999';_0x1c1413['style']['opacity']='0.95';_0x1c1413['style']['left']='33%';_0x1c1413['style']['padding']='20px';_0x1c1413['style']['borderStyle']='dashed';_0x1c1413['style']['borderWidth']='1px';_0x1c1413['id']='divOverlay';let _0x32700a=document['createElement']('a');_0x32700a['innerHTML']='Change\x20default\x20availability\x20and\x20text';_0x32700a['href']=chrome['extension']['getURL']('options.html');_0x32700a['style']['textDecoration']='underline';_0x32700a['style']['cursor']='pointer';_0x1c1413['appendChild'](_0x32700a);_0x1c1413['appendChild'](document['createElement']('br'));let _0x26c09a=document['createElement']('span');_0x26c09a['innerHTML']='Close';_0x26c09a['addEventListener']('click',closeOutputDiv,![]);_0x26c09a['style']['position']='absolute';_0x26c09a['style']['top']='15px';_0x26c09a['style']['right']='20px';_0x26c09a['style']['textDecoration']='underline';_0x26c09a['style']['cursor']='pointer';_0x1c1413['appendChild'](_0x26c09a);let _0x2cf13a=document['createElement']('span');_0x2cf13a['id']='copyStatus';_0x2cf13a['style']['color']='red';_0x2cf13a['style']['fontSize']='larger';_0x2cf13a['style']['fontWeight']='bold';_0x2cf13a['style']['position']='absolute';_0x2cf13a['style']['top']='130px';_0x2cf13a['style']['right']='120px';_0x1c1413['appendChild'](_0x2cf13a);let _0x4476e9=document['createElement']('button');_0x4476e9['addEventListener']('click',copyTextAreaToClipboardOnClick,![]);_0x4476e9['style']['position']='absolute';_0x4476e9['style']['right']='24px';_0x4476e9['style']['top']='124px';_0x4476e9['style']['cursor']='pointer';let _0x1acdd2=document['createElement']('img');_0x1acdd2['id']='copyToClipboardImage';_0x1acdd2['src']=EXTENSION_REMOTE_URL+'copyToClipboard.svg';_0x1acdd2['style']['width']='32px';_0x1acdd2['style']['height']='32px';_0x4476e9['appendChild'](_0x1acdd2);_0x1c1413['appendChild'](_0x4476e9);_0x1c1413['appendChild'](document['createElement']('br'));let _0x1c81e6=document['createElement']('textarea');_0x1c81e6['name']='post';_0x1c81e6['maxLength']='5000';_0x1c81e6['cols']='80';_0x1c81e6['rows']='30';_0x1c81e6['innerHTML']=_0xa38051;_0x1c81e6['id']='copyToClipboard';_0x1c1413['appendChild'](_0x1c81e6);document['body']['appendChild'](_0x1c1413);blinking=blink(document['getElementById']('copyToClipboardImage'),0x2ee);copyTextAreaToClipboard();}let lastDayOfWeekNumber=-0x1;function appendOutputDayString(_0x4e1d31,_0x3f6445,_0x5b3939,_0x4beccb){let _0x4775dd=DAYS['indexOf'](_0x4beccb);if(_0x4e1d31!==''){_0x3f6445=_0x3f6445+(lastDayOfWeekNumber===-0x1?'\x0a':'')+'\x0a'+(_0x4775dd<=lastDayOfWeekNumber?'\x0a':'')+_0x5b3939+_0x4e1d31;}lastDayOfWeekNumber=_0x4775dd;return _0x3f6445;}let outputInBetweenDaysWithNoEvents=function(_0x3dd961,_0x45b631,_0x25696b,_0xd6e65b){let _0x4d4251='';let _0x2abc0f=getDateMonthString(_0x3dd961);let _0x5339e2=getDateDayDigits(_0x3dd961);let _0x341cd7=0x0;if(_0x2abc0f!==_0xd6e65b){let _0x3d4fce=DAYS_IN_MONTH_28['indexOf'](_0xd6e65b)!==-0x1?0x1c:DAYS_IN_MONTH_30['indexOf'](_0xd6e65b)!==-0x1?0x1e:0x1f;while(_0x45b631+_0x341cd7<_0x3d4fce){_0x341cd7++;let _0x550390=generateFreeAllDayString(_0x45b631+_0x341cd7,_0x25696b,_0xd6e65b,_0x341cd7);_0x4d4251=_0x4d4251+_0x550390;}_0x45b631=0x0;}while(_0x5339e2>_0x45b631+0x1){_0x45b631++;_0x341cd7++;let _0x2e5692=generateFreeAllDayString(_0x45b631,_0x25696b,_0x2abc0f,_0x341cd7);_0x4d4251=_0x4d4251+_0x2e5692;}return _0x4d4251;};let processNewDateEntry=function(_0x15bff7,_0x1aa520,_0x4244d8,_0x346b8b){let _0x17bd31='';if(_0x1aa520!==null){let _0x251400=getDateDayDigits(_0x1aa520);let _0x2183d4=getDateMonthString(_0x1aa520);let _0x2b2679=getDateDayString(_0x1aa520);_0x17bd31=_0x17bd31+outputInBetweenDaysWithNoEvents(_0x15bff7,_0x251400,_0x2b2679,_0x2183d4);}let _0x29ba28=getDateDayDigits(_0x15bff7);let _0x3cfa4a=getDateMonthString(_0x15bff7);let _0x589e2d=getDateDayString(_0x15bff7);if(!skipDay(_0x589e2d)){let _0x4ea108=generateFreeTimesInDayString(_0x29ba28,_0x3cfa4a,_0x4244d8,_0x346b8b);_0x17bd31=appendOutputDayString(_0x4ea108,_0x17bd31,_0x15bff7,_0x589e2d);}return _0x17bd31;};var callbackRun=function(_0x5efe51){AVAILABLE_START_HOUR=_0x5efe51['AVAILABLE_START_HOUR'];AVAILABLE_END_HOUR=_0x5efe51['AVAILABLE_END_HOUR'];BUFFER_BEFORE_AND_AFTER_MINS=_0x5efe51['BUFFER_BEFORE_AND_AFTER_MINS'];MEETING_LENGTH_MINS=_0x5efe51['MEETING_LENGTH_MINS'];HEADER_TEXT=_0x5efe51['HEADER_TEXT'];POST_TEXT=_0x5efe51['POST_TEXT'];INCLUDE_WEEKENDS=_0x5efe51['INCLUDE_WEEKENDS'];UUID=_0x5efe51['UUID'];EXTENSION_REMOTE_URL=_0x5efe51['EXTENSION_REMOTE_URL'];console['clear']();console['log']('Calapp.co\x20running\x20with\x20config',_0x5efe51);var _0x57c132='\x20–\x20';var _0x1d5035=HEADER_TEXT;var _0x3275d3=null;var _0xe50950=null;var _0x50d45f=[];var _0x350c28=[];var _0x19c9fa=document['evaluate']('//*[@class=\x27taTyDe\x27]',document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null);for(let _0x26b090=0x0;_0x26b090<_0x19c9fa['snapshotLength'];_0x26b090++){for(let _0x31e694=0x0;_0x31e694<_0x19c9fa['snapshotItem'](_0x26b090)['childNodes']['length'];_0x31e694++){let _0x4ff8a9=_0x19c9fa['snapshotItem'](_0x26b090)['childNodes'][_0x31e694];let _0x5b1c8b=_0x4ff8a9['childNodes'][0x0]['childNodes'][0x0];if(_0x4ff8a9['className']==='p8Qosf'){if(_0x3275d3!==null){_0x1d5035=_0x1d5035+processNewDateEntry(_0x3275d3,_0xe50950,_0x50d45f,_0x350c28);_0x50d45f=[];_0x350c28=[];}_0xe50950=_0x3275d3;_0x3275d3=_0x5b1c8b['textContent']+'\x20'+_0x4ff8a9['childNodes'][0x0]['childNodes'][0x1]['textContent'];}else if(_0x5b1c8b&&_0x5b1c8b['textContent']['indexOf'](_0x57c132)!==-0x1){let {startTime,endTime}=convertStringWithAmPmTo24Time(_0x5b1c8b['textContent']['split'](_0x57c132)[0x0],_0x5b1c8b['textContent']['split'](_0x57c132)[0x1]);if(startTime>endTime){startTime=startTime-0x18;}_0x50d45f['push'](startTime);_0x350c28['push'](endTime);}}}_0x1d5035=_0x1d5035+processNewDateEntry(_0x3275d3,_0xe50950,_0x50d45f,_0x350c28);_0x1d5035=_0x1d5035+(POST_TEXT?'\x0a\x0a'+POST_TEXT:'')+'\x0a\x0a'+REFERRAL_LINK+UUID;displayOutputDiv(_0x1d5035);console['log'](_0x1d5035);};var main=function(){chrome['storage']['sync']['get']({'AVAILABLE_START_HOUR':'','AVAILABLE_END_HOUR':'','BUFFER_BEFORE_AND_AFTER_MINS':'','MEETING_LENGTH_MINS':'','HEADER_TEXT':'','POST_TEXT':'','INCLUDE_WEEKENDS':![],'UUID':'','EXTENSION_REMOTE_URL':'Error\x20EXTENSION_REMOTE_URL\x20not\x20set\x20in\x20local\x20storage'},function(_0x840822){callbackRun(_0x840822);});};var initialized;if(typeof initialized==='undefined'){initialized=!![];chrome['runtime']['onMessage']['addListener'](function(_0x505682,_0x4fef36,_0x175c4e){main();});}window['addEventListener']('load',function(){main();},![]);