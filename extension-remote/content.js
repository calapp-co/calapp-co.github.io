console['log']('remote\x20content.js\x20loaded',new Date());var AVAILABLE_START_HOUR='';var AVAILABLE_END_HOUR='';var BUFFER_BEFORE_AND_AFTER_MINS='';var MEETING_LENGTH_MINS='';var HEADER_TEXT='';var POST_TEXT='';var INCLUDE_WEEKENDS=![];var EXTENSION_REMOTE_URL='';var UUID='';var REFERRAL_LINK='PS:\x20You\x20may\x20also\x20find\x20Calapp\x20a\x20Chrome\x20extension\x20that\x20generated\x20my\x20above\x20availability\x20from\x20Google\x20Calendar\x20useful\x20so\x20here\x27s\x20a\x20free\x20invite:\x20https://calapp.co?';var MONTHS=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];var DAYS=['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];var DAYS_IN_MONTH_28=['Feb'];var DAYS_IN_MONTH_30=['Apr','Jun','Sep','Nov'];var MONTHS_REGEX=new RegExp('('+MONTHS['join']('|')+')');var DAYS_REGEX=new RegExp('('+DAYS['join']('|')+')');var skipDay=function(_0x2d5fc7){return!INCLUDE_WEEKENDS&&(_0x2d5fc7===DAYS[0x5]||_0x2d5fc7===DAYS[0x6]);};var isBeforeTodayIsToday=function(_0x27fe38,_0x35f755){let _0x2096f4=new Date();let _0x24e174=_0x2096f4['getDate']();let _0x3e7aea=MONTHS[_0x2096f4['getMonth']()];let _0x4e7625=_0x27fe38<_0x24e174&&_0x35f755===_0x3e7aea;let _0x2112e6=_0x27fe38===_0x24e174&&_0x35f755===_0x3e7aea;return{'isBeforeToday':_0x4e7625,'isToday':_0x2112e6};};var generateFreeTimesInDayString=function(_0xabda0d,_0x672f12,_0x248277,_0x4c5bdc){let _0x59c42b='';let {isBeforeToday,isToday}=isBeforeTodayIsToday(_0xabda0d,_0x672f12);let _0x4efb8a=new Date();let _0x286ac2=_0x4efb8a['getHours']()+_0x4efb8a['getMinutes']()/0x3c;let _0x2a3620=isToday?_0x286ac2:-0x1;if(isBeforeToday||isToday&&_0x286ac2>=AVAILABLE_END_HOUR){return _0x59c42b;}let _0x1e212d=MEETING_LENGTH_MINS/0x3c;let _0x263f79=BUFFER_BEFORE_AND_AFTER_MINS/0x3c;let _0x1688bc=_0x248277['sort']((_0x4d2e72,_0x5a3e42)=>_0x4d2e72-_0x5a3e42);let _0x232cc7=_0x4c5bdc['sort']((_0x1c383e,_0x2d3fa5)=>_0x1c383e-_0x2d3fa5);for(let _0x39b8f3=0x0;_0x39b8f3<_0x1688bc['length'];_0x39b8f3++){if(_0x1688bc[_0x39b8f3]<AVAILABLE_START_HOUR&&_0x232cc7[_0x39b8f3]<AVAILABLE_START_HOUR){_0x1688bc['splice'](_0x39b8f3,0x1);_0x232cc7['splice'](_0x39b8f3,0x1);}}let _0xe4c3c4=_0x1688bc[0x0]?_0x1688bc[0x0]:0x63;let _0x335e24=Math['min'](AVAILABLE_END_HOUR,_0xe4c3c4-_0x263f79);let _0x1a10b1=Math['max'](AVAILABLE_START_HOUR,_0x2a3620+_0x263f79);if(_0xe4c3c4>_0x1a10b1&&_0x335e24-_0x1e212d>=_0x1a10b1&&_0x335e24>_0x2a3620){_0x59c42b=_0x59c42b+'\x20'+hoursTohhss(_0x1a10b1)+'\x20-\x20'+hoursTohhss(_0x335e24);}for(let _0x2dcaac=0x1;_0x2dcaac<_0x1688bc['length'];_0x2dcaac++){if(_0x1688bc[_0x2dcaac]>=AVAILABLE_START_HOUR&&_0x232cc7[_0x2dcaac-0x1]>AVAILABLE_START_HOUR){let _0x1d0a0d=_0x1688bc[_0x2dcaac]-_0x263f79;if(_0x1d0a0d>_0x2a3620){let _0x5f5030=Math['max'](_0x232cc7[_0x2dcaac-0x1],_0x2a3620)+_0x263f79;let _0x11b947=_0x1d0a0d-_0x5f5030;let _0x5f20aa=AVAILABLE_END_HOUR-_0x5f5030;if(_0x1d0a0d>_0x5f5030){if(_0x1d0a0d<=AVAILABLE_END_HOUR&&_0x11b947>=_0x1e212d){let _0x4605c3=hoursTohhss(_0x1d0a0d);let _0x2c7442=hoursTohhss(_0x5f5030);_0x59c42b=_0x59c42b+(_0x59c42b?',\x20':'\x20')+_0x2c7442+'\x20-\x20'+_0x4605c3;}else if(_0x1d0a0d>AVAILABLE_END_HOUR&&_0x5f20aa>=_0x1e212d){let _0x465528=hoursTohhss(AVAILABLE_END_HOUR);let _0x2c7442=hoursTohhss(_0x5f5030);_0x59c42b=_0x59c42b+(_0x59c42b?',\x20':'\x20')+_0x2c7442+'\x20-\x20'+_0x465528;}}}}}let _0x7f54d4=Math['max'](_0x2a3620,Math['max']['apply'](null,_0x4c5bdc));if(_0x7f54d4!==-Infinity&&_0x7f54d4!==-0x1&&_0x7f54d4!==0x18&&_0x7f54d4+_0x1e212d+_0x263f79<=AVAILABLE_END_HOUR){_0x59c42b=_0x59c42b+(_0x59c42b?'\x20or':'')+'\x20after\x20'+hoursTohhss(_0x7f54d4+_0x263f79);}return _0x59c42b;};function getDayOfWeekDigits(_0xf4c8ac,_0x41cead){return DAYS[(DAYS['indexOf'](_0xf4c8ac)+_0x41cead)%0x7];}function generateFreeAllDayString(_0x245a6b,_0x1fc6b2,_0x1d60a2,_0x904f4a){let _0x51d93c=getDayOfWeekDigits(_0x1fc6b2,_0x904f4a);let _0x5a53e2='';if(!skipDay(_0x51d93c)){_0x5a53e2=appendOutputDayString(hoursTohhss(AVAILABLE_START_HOUR)+'\x20-\x20'+hoursTohhss(AVAILABLE_END_HOUR),'',_0x245a6b+'\x20'+_0x1d60a2+',\x20'+_0x51d93c+'\x20',_0x51d93c);}return _0x5a53e2;}function getDateDayDigits(_0x465dd7){return _0x465dd7?parseInt(_0x465dd7['replace'](/\D+/g,'')):-0x1;}function getDateMonthString(_0xe4378c){let _0x5db689=_0xe4378c['match'](MONTHS_REGEX);return _0x5db689[0x0];}function getDateDayString(_0x13df17){return _0x13df17['match'](DAYS_REGEX)[0x0];}function hoursTohhss(_0x5a0583){var _0x2ab33e=_0x5a0583<0x0?'-':'';var _0x49e44b=Math['floor'](Math['abs'](_0x5a0583));var _0x1c76a8=Math['round'](Math['abs'](_0x5a0583)*0x3c%0x3c);return _0x2ab33e+(_0x49e44b<0xa?'0':'')+_0x49e44b+':'+(_0x1c76a8<0xa?'0':'')+_0x1c76a8;}function parseTimeString(_0x1f50c3){let _0x7fbf67=_0x1f50c3['match'](/^([\d]+):?([\d]*)?([^\d]+)?$/);let _0x2bc381=parseInt(_0x7fbf67[0x1]);let _0xb8339e=_0x7fbf67[0x2]?parseInt(_0x7fbf67[0x2]):0x0;let _0x469599=_0x7fbf67[0x3]?_0x7fbf67[0x3]:null;return{'hours':_0x2bc381,'optionalMins':_0xb8339e,'optionalAmPm':_0x469599};}function generateTimeString(_0x4f80a8,_0x4cd79d,_0x2312c7){if(_0x4f80a8!==0xc&&_0x2312c7==='pm'||_0x4f80a8===0xc&&_0x2312c7==='am'){_0x4f80a8=_0x4f80a8+0xc;}return _0x4f80a8+_0x4cd79d/0x3c;}function convertStringWithAmPmTo24Time(_0x38395b,_0x283408){let {hours:startHours,optionalMins:startOptionalMins,optionalAmPm:startOptionalAmPm}=parseTimeString(_0x38395b);let {hours:endHours,optionalMins:endOptionalMins,optionalAmPm:endOptionalAmPm}=parseTimeString(_0x283408);if(endOptionalAmPm&&!startOptionalAmPm){startOptionalAmPm=endOptionalAmPm;}let _0x3d83a3=generateTimeString(startHours,startOptionalMins,startOptionalAmPm);return{'startTime':_0x3d83a3,'endTime':generateTimeString(endHours,endOptionalMins,endOptionalAmPm)};}function blink(_0x2cf7da,_0x288a98){function _0x53c338(){_0x2cf7da['style']['visibility']='hidden';setTimeout(function(){_0x2cf7da['style']['visibility']='visible';},_0x288a98);_0x63c820=setTimeout(function(){_0x53c338();},_0x288a98*0x2);_0xfbecec=![];}var _0x63c820,_0xfbecec=!![];return{'start':function(){if(_0xfbecec)_0x53c338();},'stop':function(){clearTimeout(_0x63c820);_0xfbecec=!![];}};}function copyTextAreaToClipboardOnClick(){copyTextAreaToClipboard();}function copyTextAreaToClipboard(){let _0x1ef0e5=document['getElementById']('copyToClipboard');_0x1ef0e5['select']();if(document['execCommand']('copy')){if(blinking){blinking['stop']();}let _0x3e9cb4=document['getElementById']('copyStatus');_0x3e9cb4['textContent']='Copied\x20to\x20your\x20clipboard';setTimeout(function(){_0x3e9cb4['textContent']='';},0x7d0);console['log']('Calapp.co\x20copied\x20text\x20to\x20clipboard');}else{blinking['start']();}}function closeOutputDiv(){let _0x47070d=document['getElementById']('divOverlay');if(_0x47070d){document['body']['removeChild'](_0x47070d);}}let blinking;function displayOutputDiv(_0x42b7f2){closeOutputDiv();let _0x4ff793='CalApp.co\x20generated\x20your\x20availability\x20from\x20visible\x20days\x20for\x20meetings\x20of\x20at\x20least\x20'+MEETING_LENGTH_MINS+'\x20minutes\x20between\x20'+hoursTohhss(AVAILABLE_START_HOUR)+'\x20and\x20'+hoursTohhss(AVAILABLE_END_HOUR)+'\x20with\x20at\x20least\x20'+BUFFER_BEFORE_AND_AFTER_MINS+'\x20minutes\x20before\x20and\x20after\x20existing\x20meetings\x20(based\x20on\x20currently\x20visible\x20days\x20and\x20calendars).';let _0x5cff5d=document['createElement']('div');_0x5cff5d['innerHTML']='<h2>Edit\x20your\x20availability/message\x20as\x20required\x20then\x20copy\x20to\x20your\x20clipboard</h2><p\x20style=\x22font-weight:\x20bold\x22>'+_0x4ff793+'</p>';_0x5cff5d['style']['width']='670px';_0x5cff5d['style']['height']='auto';_0x5cff5d['style']['position']='absolute';_0x5cff5d['style']['top']='20px';_0x5cff5d['style']['backgroundColor']='white';_0x5cff5d['style']['zIndex']='9999999';_0x5cff5d['style']['opacity']='0.95';_0x5cff5d['style']['left']='33%';_0x5cff5d['style']['padding']='20px';_0x5cff5d['style']['borderStyle']='dashed';_0x5cff5d['style']['borderWidth']='1px';_0x5cff5d['id']='divOverlay';let _0x1410ec=document['createElement']('a');_0x1410ec['innerHTML']='Change\x20default\x20availability\x20and\x20text';_0x1410ec['href']=chrome['extension']['getURL']('options.html');_0x1410ec['style']['textDecoration']='underline';_0x1410ec['style']['cursor']='pointer';_0x5cff5d['appendChild'](_0x1410ec);_0x5cff5d['appendChild'](document['createElement']('br'));let _0x154f48=document['createElement']('span');_0x154f48['innerHTML']='Close';_0x154f48['addEventListener']('click',closeOutputDiv,![]);_0x154f48['style']['position']='absolute';_0x154f48['style']['top']='15px';_0x154f48['style']['right']='20px';_0x154f48['style']['textDecoration']='underline';_0x154f48['style']['cursor']='pointer';_0x5cff5d['appendChild'](_0x154f48);let _0x32e839=document['createElement']('span');_0x32e839['id']='copyStatus';_0x32e839['style']['color']='red';_0x32e839['style']['fontSize']='larger';_0x32e839['style']['fontWeight']='bold';_0x32e839['style']['position']='absolute';_0x32e839['style']['top']='130px';_0x32e839['style']['right']='120px';_0x5cff5d['appendChild'](_0x32e839);let _0x1848e8=document['createElement']('button');_0x1848e8['addEventListener']('click',copyTextAreaToClipboardOnClick,![]);_0x1848e8['style']['position']='absolute';_0x1848e8['style']['right']='24px';_0x1848e8['style']['top']='124px';_0x1848e8['style']['cursor']='pointer';let _0x1fa92b=document['createElement']('img');_0x1fa92b['id']='copyToClipboardImage';_0x1fa92b['src']=EXTENSION_REMOTE_URL+'copyToClipboard.svg';_0x1fa92b['style']['width']='32px';_0x1fa92b['style']['height']='32px';_0x1848e8['appendChild'](_0x1fa92b);let _0x3e3e20=document['createElement']('p');_0x3e3e20['id']='copyToClipboardText';_0x3e3e20['innerHTML']='Copy';_0x3e3e20['style']['margin']='0';_0x1848e8['appendChild'](_0x3e3e20);_0x5cff5d['appendChild'](_0x1848e8);_0x5cff5d['appendChild'](document['createElement']('br'));let _0x210cd8=document['createElement']('textarea');_0x210cd8['style']['marginTop']='4px';_0x210cd8['name']='post';_0x210cd8['maxLength']='5000';_0x210cd8['cols']='80';_0x210cd8['rows']='30';_0x210cd8['innerHTML']=_0x42b7f2;_0x210cd8['id']='copyToClipboard';_0x5cff5d['appendChild'](_0x210cd8);document['body']['appendChild'](_0x5cff5d);blinking=blink(document['getElementById']('copyToClipboardImage'),0x2ee);copyTextAreaToClipboard();}let lastDayOfWeekNumber=-0x1;function appendOutputDayString(_0x636a13,_0x2c42e2,_0x15a2c3,_0x54f2fa){let _0x334bd6=DAYS['indexOf'](_0x54f2fa);if(_0x636a13!==''){_0x2c42e2=_0x2c42e2+(lastDayOfWeekNumber===-0x1?'\x0a':'')+'\x0a'+(_0x334bd6<=lastDayOfWeekNumber?'\x0a':'')+_0x15a2c3+_0x636a13;}lastDayOfWeekNumber=_0x334bd6;return _0x2c42e2;}let outputInBetweenDaysWithNoEvents=function(_0x482522,_0xf6c158,_0x5dbf00,_0x4de74c){let _0x2ef0aa='';let _0x48a0e9=getDateMonthString(_0x482522);let _0x4be1b9=getDateDayDigits(_0x482522);let _0x47c4b=0x0;if(_0x48a0e9!==_0x4de74c){let _0x27b59c=DAYS_IN_MONTH_28['indexOf'](_0x4de74c)!==-0x1?0x1c:DAYS_IN_MONTH_30['indexOf'](_0x4de74c)!==-0x1?0x1e:0x1f;while(_0xf6c158+_0x47c4b<_0x27b59c){_0x47c4b++;let _0x34e264=generateFreeAllDayString(_0xf6c158+_0x47c4b,_0x5dbf00,_0x4de74c,_0x47c4b);_0x2ef0aa=_0x2ef0aa+_0x34e264;}_0xf6c158=0x0;}while(_0x4be1b9>_0xf6c158+0x1){_0xf6c158++;_0x47c4b++;let _0x19d9fd=generateFreeAllDayString(_0xf6c158,_0x5dbf00,_0x48a0e9,_0x47c4b);_0x2ef0aa=_0x2ef0aa+_0x19d9fd;}return _0x2ef0aa;};let processNewDateEntry=function(_0x3a1ba1,_0x56b299,_0x448617,_0x4681c5){let _0x1ca35a='';if(_0x56b299!==null){let _0x366e71=getDateDayDigits(_0x56b299);let _0x3843b8=getDateMonthString(_0x56b299);let _0x3b9b31=getDateDayString(_0x56b299);_0x1ca35a=_0x1ca35a+outputInBetweenDaysWithNoEvents(_0x3a1ba1,_0x366e71,_0x3b9b31,_0x3843b8);}let _0x453525=getDateDayDigits(_0x3a1ba1);let _0x549fd0=getDateMonthString(_0x3a1ba1);let _0x1590b4=getDateDayString(_0x3a1ba1);if(!skipDay(_0x1590b4)){let _0x393a5a=generateFreeTimesInDayString(_0x453525,_0x549fd0,_0x448617,_0x4681c5);_0x1ca35a=appendOutputDayString(_0x393a5a,_0x1ca35a,_0x3a1ba1,_0x1590b4);}return _0x1ca35a;};var callbackRun=function(_0xcaf13d){AVAILABLE_START_HOUR=_0xcaf13d['AVAILABLE_START_HOUR'];AVAILABLE_END_HOUR=_0xcaf13d['AVAILABLE_END_HOUR'];BUFFER_BEFORE_AND_AFTER_MINS=_0xcaf13d['BUFFER_BEFORE_AND_AFTER_MINS'];MEETING_LENGTH_MINS=_0xcaf13d['MEETING_LENGTH_MINS'];HEADER_TEXT=_0xcaf13d['HEADER_TEXT'];POST_TEXT=_0xcaf13d['POST_TEXT'];INCLUDE_WEEKENDS=_0xcaf13d['INCLUDE_WEEKENDS'];UUID=_0xcaf13d['UUID'];EXTENSION_REMOTE_URL=_0xcaf13d['EXTENSION_REMOTE_URL'];console['clear']();console['log']('Calapp.co\x20running\x20with\x20config',_0xcaf13d);var _0x265915='\x20–\x20';var _0x55c715=HEADER_TEXT;var _0x29dbdf=null;var _0x34a58a=null;var _0x5d9d7f=[];var _0x44ec31=[];var _0x32e4fb=document['evaluate']('//*[@class=\x27taTyDe\x27]',document,null,XPathResult['ORDERED_NODE_SNAPSHOT_TYPE'],null);for(let _0x478ce8=0x0;_0x478ce8<_0x32e4fb['snapshotLength'];_0x478ce8++){for(let _0xb4dbb1=0x0;_0xb4dbb1<_0x32e4fb['snapshotItem'](_0x478ce8)['childNodes']['length'];_0xb4dbb1++){let _0xd14f0f=_0x32e4fb['snapshotItem'](_0x478ce8)['childNodes'][_0xb4dbb1];let _0x366924=_0xd14f0f['childNodes'][0x0]['childNodes'][0x0];if(_0xd14f0f['className']==='p8Qosf'){if(_0x29dbdf!==null){_0x55c715=_0x55c715+processNewDateEntry(_0x29dbdf,_0x34a58a,_0x5d9d7f,_0x44ec31);_0x5d9d7f=[];_0x44ec31=[];}_0x34a58a=_0x29dbdf;_0x29dbdf=_0x366924['textContent']+'\x20'+_0xd14f0f['childNodes'][0x0]['childNodes'][0x1]['textContent'];}else if(_0x366924&&_0x366924['textContent']['indexOf'](_0x265915)!==-0x1){let {startTime,endTime}=convertStringWithAmPmTo24Time(_0x366924['textContent']['split'](_0x265915)[0x0],_0x366924['textContent']['split'](_0x265915)[0x1]);if(startTime>endTime){startTime=startTime-0x18;}_0x5d9d7f['push'](startTime);_0x44ec31['push'](endTime);}}}_0x55c715=_0x55c715+processNewDateEntry(_0x29dbdf,_0x34a58a,_0x5d9d7f,_0x44ec31);_0x55c715=_0x55c715+(POST_TEXT?'\x0a\x0a'+POST_TEXT:'')+'\x0a\x0a'+REFERRAL_LINK+UUID;displayOutputDiv(_0x55c715);console['log'](_0x55c715);};var main=function(){chrome['storage']['sync']['get']({'AVAILABLE_START_HOUR':'','AVAILABLE_END_HOUR':'','BUFFER_BEFORE_AND_AFTER_MINS':'','MEETING_LENGTH_MINS':'','HEADER_TEXT':'','POST_TEXT':'','INCLUDE_WEEKENDS':![],'UUID':'','EXTENSION_REMOTE_URL':'Error\x20EXTENSION_REMOTE_URL\x20not\x20set\x20in\x20local\x20storage'},function(_0x213a6a){callbackRun(_0x213a6a);});};var initialized;if(typeof initialized==='undefined'){initialized=!![];chrome['runtime']['onMessage']['addListener'](function(_0x57476f,_0xe92c2c,_0x156ed7){main();});}window['addEventListener']('load',function(){main();},![]);